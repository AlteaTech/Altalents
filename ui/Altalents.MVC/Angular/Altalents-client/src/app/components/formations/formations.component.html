<app-custom-loader [isLoading]="isLoading" />
<div class="at-p-formulaire-info-section">
    <img src="Images/HONNETETE.png">
    <p>
        Deuxième étape : <span class="font-normal">vous avez étudié à Poudlard? Vous parlez couramment le patois péruvien avec un léger accent du sud? 
        Vous possèdez une certification officielle de meilleur imitateur de France que Nicolas Canteloup vous jalouse? 
        C'est ici qu'il faut nous le dire.</span>
    </p>
</div>
<fieldset>
    <legend><span><i class="fa-solid fa-graduation-cap "></i>Formations</span></legend>
    <div *ngFor="let formation of stepFormation.formations" class="margin-bottom">
        <div class="flex-row space-between align-center at-c-violet">
            <p class="custom-margin-top-bottom">
              {{formation.libelle}}
            </p>
            <div class="edit-links">
                <a (click)="onModifierFormationClick(formation)" class="edit-link">
                <p class="at-c-violet"><i class="fa-regular fa-pen-to-square"></i>Modifier</p>
                </a>
                <a (click)="onDeleteFormationClick(formation)" class="edit-link">
                    <p class="at-c-violet"><i class="fa-solid fa-trash"></i>Supprimer</p>
                </a>
            </div>
        </div>
        <p class="font-bold ">{{formation.domaine}}<span *ngIf="formation.niveau"> - {{formation.niveau}}</span></p>
        <p class="font-normal">{{formation.organisme}}</p>
        <p class="font-normal" *ngIf="formation.dateFin">De {{formation.dateDebut | date : "MMMM YYYY" }} à {{formation.dateFin | date : "MMMM YYYY" }} <span *ngIf="formation.dureeExperience">({{formation.dureeExperience}})</span></p>
        <p class="font-normal" *ngIf="!formation.dateFin">Depuis {{formation.dateDebut | date : "MMMM YYYY" }} <span *ngIf="formation.dureeExperience">({{formation.dureeExperience}})</span></p>
        
    </div>
    <div class="at-p-button-ajouter">
        <button (click)="onAddFormationClick()">
            <p><i class="fa-regular fa-plus at-c-violet"></i>Ajouter une formation</p>
        </button>
    </div>   
</fieldset>
<fieldset>
    <legend><i class="fa-solid fa-medal"></i>Certifications</legend>
    <div *ngFor="let certification of stepFormation.certifications" class="margin-bottom">
        <div class="flex-row space-between align-center">
            <p class=" at-c-violet custom-margin-top-bottom">
              {{certification.libelle}}
            </p>
            <div class="edit-links">
                <a (click)="onModifierCertificationClick(certification)" class="edit-link">
                <p class="at-c-violet"><i class="fa-regular fa-pen-to-square"></i>Modifier</p>
                </a>
                <a (click)="onDeleteCertificationClick(certification)" class="edit-link">
                    <p class="at-c-violet"><i class="fa-solid fa-trash"></i>Supprimer</p>
                </a>
            </div>
        </div>
        <p class="font-bold ">{{certification.domaine}}<span *ngIf="certification.niveau && certification.domaine "> - </span>{{certification.niveau}}</p>
        <p class="font-normal">{{certification.organisme}}</p>
        <p class="font-normal" *ngIf="certification.dateFin">De {{certification.dateDebut | date : "MMMM YYYY" }} à {{certification.dateFin | date : "MMMM YYYY" }} <span *ngIf="certification.dureeExperience">({{certification.dureeExperience}})</span></p>
        <p class="font-normal" *ngIf="!certification.dateFin">Depuis {{certification.dateDebut | date : "MMMM YYYY" }} <span *ngIf="certification.dureeExperience">({{certification.dureeExperience}})</span></p>
    </div>
    <div class="at-p-button-ajouter">
        <button (click)="onAddCertificationClick()">
            <p><i class="fa-regular fa-plus at-c-violet"></i>Ajouter une certification</p>
        </button>
    </div>   
</fieldset>
<fieldset>
    <legend><i class="fa-solid fa-language"></i>Langues parlées</legend>
    <div class="margin-bottom">
        <div *ngFor="let langue of stepFormation.langues">
            <div class="flex-row space-between align-center">
                <p class="custom-margin-top-bottom">
                  {{langue.libelleLangue}} ({{langue.libelleReferenceNiveau}})
                </p>
                <div class="edit-links">
                    <a (click)="onDeleteLangueClick(langue)" class="edit-link">
                        <p class="at-c-violet"><i class="fa-solid fa-trash"></i>Supprimer</p>
                    </a>
                </div>
            </div>
        </div >
    </div>
    <div class="at-p-button-ajouter">
        <button (click)="onAddLangueClick()">
            <p><i class="fa-regular fa-plus at-c-violet"></i>Ajouter une langue</p>
        </button>
    </div>  
</fieldset>